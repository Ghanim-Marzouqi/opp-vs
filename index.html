<!DOCTYPE html>
<html lang="en" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>بوابة سجل الزيارات</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./fonts/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="./css/shieldui.min.css" />
    <link rel="stylesheet" href="./css/custom.css" />
    <style>
      .logo {
        font-family: "BoldDroidKufi";
        color: #ffffff;
      }

      section {
        padding: 30px;
      }

      .panel {
        margin: 10px;
      }

      .card-header {
        font-weight: bold;
        font-size: 14px;
      }

      label {
        font-size: 14px;
      }

      th {
        font-weight: bold;
        font-size: small;
      }

      .required {
        color: #f62459;
      }

      .complete {
        color: #23cba7;
      }

      #admin-settings {
        margin: 10px;
        color: #ffffff;
        font-size: x-large;
      }

      /* Chrome, Safari, Edge, Opera */
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      /* Firefox */
      input[type="number"] {
        -moz-appearance: textfield;
      }
    </style>
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-info">
      <div class="navbar-brand logo" href="#" style="color: #ffffff;">
        بوابة سجل الزيارات
      </div>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto"></ul>
        <div class="form-inline my-2 my-lg-0 logo">
          الأسم: غانم سالم سعيد المرزوقي
        </div>
        <div>
          <a id="admin-settings" href="./admin.html"
            ><i class="fas fa-cogs"></i
          ></a>
        </div>
      </div>
    </nav>

    <!-- CONTENT -->
    <div class="container-fluid">
      <section>
        <!-- SREARCH -->
        <div class="card">
          <div class="card-header">
            <button
              type="button"
              id="btnShowSearchDialog"
              class="btn btn-info btn-sm"
            >
              <i class="fas fa-search"></i> البحث في الزيارات
            </button>
            <button
              type="button"
              class="btn btn-info btn-sm"
              data-toggle="modal"
              data-target="#VisitEntryModal"
            >
              <i class="fas fa-user-plus"></i> إضافة زائر
            </button>
          </div>
          <div id="searchDialog">
            <div class="card-body">
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="tbIDNumber">رقم البطاقة الشخصية:</label>
                    <input
                      type="number"
                      id="tbIDNumber"
                      class="form-control form-control-sm"
                      placeholder="ادخل رقم البطاقة الشخصية"
                    />
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="tbVisitorName">اسم الزائر:</label>
                    <input
                      type="text"
                      id="tbVisitorName"
                      class="form-control form-control-sm"
                      placeholder="ادخل اسم الزائر"
                    />
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="tbCaseNumber">رقم القضية:</label>
                    <input
                      type="text"
                      id="tbCaseNumber"
                      class="form-control form-control-sm"
                      placeholder="ادخل رقم القضية"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="dpFrom">تاريخ وقت الزيارة من:</label>
                    <input
                      type="date"
                      id="dpFrom"
                      class="form-control form-control-sm"
                    />
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="dpTo">تاريخ وقت الزيارة إلى:</label>
                    <input
                      type="date"
                      id="dpTo"
                      class="form-control form-control-sm"
                    />
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="chkVisitStatus">حالة الزيارة:</label>
                    <div class="form-check">
                      <input
                        type="checkbox"
                        id="chkVisitStatus"
                        class="form-check-input"
                        checked
                      />
                      <label
                        id="chkVisitStatusLabel"
                        class="form-check-label"
                        for="chkVisitStatus"
                      >
                        منتهية
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="ddlDirectorate">المديرية</label>
                    <select
                      id="ddlDirectorate"
                      class="form-control form-control-sm"
                    >
                      <option></option>
                      <option>الهيئة</option>
                      <option>مسقط</option>
                    </select>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="ddlDepartment">الإدارة</label>
                    <select
                      id="ddlDepartment"
                      class="form-control form-control-sm"
                    >
                      <option></option>
                      <option>الهيئة</option>
                      <option>مسقط</option>
                    </select>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="tbEmployeeName">اسم الموظف المختص</label>
                    <input
                      type="text"
                      id="tbEmployeeName"
                      class="form-control form-control-sm"
                      placeholder="ادخل اسم الموظف المختص"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer">
              <button type="button" class="btn btn-info btn-sm">
                <i class="fas fa-search"></i> بحث
              </button>
              <button type="button" class="btn btn-info btn-sm">
                <i class="fas fa-broom"></i> مسح الحقول
              </button>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="card">
          <div class="card-header">
            <span class="text-right">الزيارات</span
            ><span style="float: left;"
              ><button
                type="button"
                id="btnPrintReport"
                class="btn btn-info btn-sm"
              >
                <i class="fas fa-print"></i> طباعة التقرير
              </button></span
            >
          </div>
          <div class="card-body">
            <table id="table" class="table table-sm table-bordered text-nowrap">
              <thead class="thead-light">
                <tr>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    رقم بطاقة الأمن
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    رقم البطاقة الشخصية
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    اسم الزائر
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    تاريخ الزيارة من
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    تاريخ الزيارة إلى
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    الادارة
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    حالة الزيارة
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    تفاصيل الزيارة
                  </th>
                  <th
                    scope="col"
                    class="bg-info text-center"
                    style="color: #ffffff;"
                  >
                    إنهاء الزيارة
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td>1111</td>
                  <td>12121212</td>
                  <td>غانم سالم سعيد المرزوقي</td>
                  <td>12/01/2020</td>
                  <td>12/01/2020</td>
                  <td>تقنية المعلومات</td>
                  <td>غير منتهية</td>
                  <td>
                    <a
                      href="#"
                      data-toggle="modal"
                      data-target="#VisitDetailsModal"
                      ><i class="fas fa-eye"></i
                    ></a>
                  </td>
                  <td>
                    <a href="#"><i class="fas fa-times required"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>2222</td>
                  <td>13131313</td>
                  <td>يوسف سالم سعيد المرزوقي</td>
                  <td>12/01/2020</td>
                  <td>12/01/2020</td>
                  <td>المكتب الفني</td>
                  <td>منتهية</td>
                  <td>
                    <a
                      href="#"
                      data-toggle="modal"
                      data-target="#VisitDetailsModal"
                      ><i class="fas fa-eye"></i
                    ></a>
                  </td>
                  <td>
                    <i class="fas fa-check complete"></i>
                  </td>
                </tr>
                <tr>
                  <td>3333</td>
                  <td>14141414</td>
                  <td>عمر سالم سعيد المرزوقي</td>
                  <td>12/01/2020</td>
                  <td>12/01/2020</td>
                  <td>العلاقات العامة</td>
                  <td>غير منتهية</td>
                  <td>
                    <a
                      href="#"
                      data-toggle="modal"
                      data-target="#VisitDetailsModal"
                      ><i class="fas fa-eye"></i
                    ></a>
                  </td>
                  <td>
                    <a href="#"><i class="fas fa-times required"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>4444</td>
                  <td>15151515</td>
                  <td>سعيد سالم سعيد المرزوقي</td>
                  <td>12/01/2020</td>
                  <td>12/01/2020</td>
                  <td>قسم المخازن</td>
                  <td>منتهية</td>
                  <td>
                    <a
                      href="#"
                      data-toggle="modal"
                      data-target="#VisitDetailsModal"
                      ><i class="fas fa-eye"></i
                    ></a>
                  </td>
                  <td>
                    <i class="fas fa-check complete"></i>
                  </td>
                </tr>
                <tr>
                  <td>5555</td>
                  <td>16161616</td>
                  <td>عبد الرحمن سالم سعيد المرزوقي</td>
                  <td>12/01/2020</td>
                  <td>12/01/2020</td>
                  <td>الشؤون الإدارية</td>
                  <td>غير منتهية</td>
                  <td>
                    <a
                      href="#"
                      data-toggle="modal"
                      data-target="#VisitDetailsModal"
                      ><i class="fas fa-eye"></i
                    ></a>
                  </td>
                  <td>
                    <a href="#"><i class="fas fa-times required"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>6666</td>
                  <td>17171717</td>
                  <td>محمد سالم سعيد المرزوقي</td>
                  <td>12/01/2020</td>
                  <td>12/01/2020</td>
                  <td>التدريب</td>
                  <td>غير منتهية</td>
                  <td>
                    <a
                      href="#"
                      data-toggle="modal"
                      data-target="#VisitDetailsModal"
                      ><i class="fas fa-eye"></i
                    ></a>
                  </td>
                  <td>
                    <a href="#"><i class="fas fa-times required"></i></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- VISIT ENTRY MODAL -->
      <div
        id="VisitEntryModal"
        class="modal fade"
        tabindex="-1"
        role="dialog"
        aria-labelledby="visitorModalLabel"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered modal-lg"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="visitorModalLabel">
                تسجيل زائر جديد
              </h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="tbSecurityNumber"
                      ><span class="required">*</span> رقم بطاقة الأمن:</label
                    >
                    <input
                      type="number"
                      id="tbSecurityNumber"
                      class="form-control form-control-sm"
                      placeholder="ادخل رقم بطاقة الأمن"
                      required
                    />
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">
                    <label for="tbIDNumber">
                      <span class="required">*</span>
                      رقم البطاقة الشخصية:
                    </label>
                    <input
                      type="number"
                      id="tbIDNumber"
                      class="form-control form-control-sm"
                      placeholder="ادخل رقم البطاقة الشخصية"
                      required
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="tbVisitorName">
                      <span class="required">*</span>
                      اسم الزائر:
                    </label>
                    <input
                      type="text"
                      id="tbVisitorName"
                      class="form-control form-control-sm"
                      placeholder="ادخل اسم الزائر"
                      required
                    />
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">
                    <label for="tbCaseNumber">رقم القضية:</label>
                    <input
                      type="number"
                      id="tbCaseNumber"
                      class="form-control form-control-sm"
                      placeholder="ادخل رقم القضية"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="ddlDirectorate">المديرية</label>
                    <select
                      id="ddlDirectorate"
                      class="form-control form-control-sm"
                    >
                      <option></option>
                      <option>الهيئة</option>
                      <option>مسقط</option>
                    </select>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="ddlDepartment">الإدارة</label>
                    <select
                      id="ddlDepartment"
                      class="form-control form-control-sm"
                    >
                      <option></option>
                      <option>الهيئة</option>
                      <option>مسقط</option>
                    </select>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-group">
                    <label for="ddlEmployee">اسم الموظف المختص</label>
                    <select
                      id="ddlEmployee"
                      class="form-control form-control-sm"
                    >
                      <option></option>
                      <option>غانم سالم سعيد المرزوقي</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <label for="tbVisitReason">
                      <span class="required">*</span>
                      سبب الزيارة:
                    </label>
                    <textarea
                      id="tbVisitReason"
                      rows="5"
                      class="form-control form-control-sm"
                      placeholder="اكتب تفاصيل الموضوع"
                      required
                    ></textarea>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                إغلاق
              </button>
              <button type="button" class="btn btn-primary">حفظ</button>
            </div>
          </div>
        </div>
      </div>

      <!-- VISIT DETAILS MODAL -->
      <div
        id="VisitDetailsModal"
        class="modal fade"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered modal-xl"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">تفاصيل الزيارة</h5>
              <div class="close">
                <a href="#" id="btnEnableVisitDetailsEdit"
                  ><i class="fas fa-edit"></i
                ></a>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
            <div class="modal-body">
              <div class="card panel">
                <div class="card-header">
                  بيانات الزائر
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-6">
                      <div class="form-group">
                        <label for="tbSecurityNumberDetail"
                          >رقم بطاقة الأمن:</label
                        >
                        <input
                          type="number"
                          id="tbSecurityNumberDetail"
                          class="form-control form-control-sm"
                          disabled
                          value="1234"
                          required
                        />
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label for="tbIDNumberDetail"
                          >رقم البطاقة الشخصية:</label
                        >
                        <input
                          type="number"
                          id="tbIDNumberDetail"
                          class="form-control form-control-sm"
                          disabled
                          value="12345678"
                          required
                        />
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <div class="form-group">
                        <label for="tbVisitorNameDetail">اسم الزائر:</label>
                        <input
                          type="text"
                          id="tbVisitorNameDetail"
                          class="form-control form-control-sm"
                          disabled
                          value="غانم سالم سعيد المرزوقي"
                          required
                        />
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label for="tbCaseNumberDetail">رقم القضية:</label>
                        <input
                          type="number"
                          id="tbCaseNumberDetail"
                          class="form-control form-control-sm"
                          disabled
                          value="1234/2019"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card panel">
                <div class="card-header">
                  تفاصيل الزيارة
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-4">
                      <div class="form-group">
                        <label for="tbDateFromDetail">تاريخ الزيارة من:</label>
                        <input
                          type="text"
                          id="tbDateFromDetail"
                          class="form-control form-control-sm"
                          disabled
                          value="02/02/2020 10:30 AM"
                        />
                      </div>
                    </div>
                    <div class="col-4">
                      <div class="form-group">
                        <label for="tbDateToDetail">تاريخ الزيارة إلى:</label>
                        <input
                          type="text"
                          id="tbDateToDetail"
                          class="form-control form-control-sm"
                          disabled
                          value="02/02/2020 12:00 PM"
                        />
                      </div>
                    </div>
                    <div class="col-4">
                      <div class="form-group">
                        <label for="tbVisitStatusDetail">حالة الزيارة:</label>
                        <p id="tbVisitStatusDetail">
                          غير منتهية
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-4">
                      <div class="form-group">
                        <label for="ddlDirectorate">المديرية</label>
                        <select
                          id="ddlDirectorate"
                          class="form-control form-control-sm"
                          disabled
                          required
                        >
                          <option>الهيئة</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-4">
                      <div class="form-group">
                        <label for="ddlDepartmentDetail">الإدارة</label>
                        <select
                          id="ddlDepartmentDetail"
                          class="form-control form-control-sm"
                          disabled
                          required
                        >
                          <option>تقنية المعلومات</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-4">
                      <div class="form-group">
                        <label for="ddlEmployeeDetail">اسم الموظف المختص</label>
                        <select
                          id="ddlEmployeeDetail"
                          class="form-control form-control-sm"
                          disabled
                        >
                          <option>غانم سالم سعيد المرزوقي</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <div class="form-group">
                        <label for="tbVisitReasonDetail">سبب الزيارة:</label>
                        <textarea
                          id="tbVisitReasonDetail"
                          class="form-control form-control-sm"
                          rows="5"
                          disabled
                          required
                        ></textarea>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                إغلاق
              </button>
              <button
                id="btnUpdateVisitDetails"
                type="button"
                class="btn btn-info"
              >
                تعديل
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JS Files -->
    <script src="./js/jquery.min.js"></script>
    <script src="./js/jquery.dataTables.min.js"></script>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/dataTables.bootstrap4.min.js"></script>
    <script src="./js/shieldui.min.js"></script>
    <script src="./js/jszip.min.js"></script>

    <!-- CUSTOM JS -->
    <script>
      $(document).ready(() => {
        // when document loads
        $("#searchDialog").hide();
        $("#btnUpdateVisitDetails").hide();
        $("#table").DataTable({
          language: {
            sEmptyTable: "ليست هناك بيانات متاحة في الجدول",
            sLoadingRecords: "جارٍ التحميل...",
            sProcessing: "جارٍ التحميل...",
            sLengthMenu: "_MENU_",
            sZeroRecords: "لم يعثر على أية سجلات",
            sInfo: "إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل",
            sInfoEmpty: "يعرض 0 إلى 0 من أصل 0 سجل",
            sInfoFiltered: "(منتقاة من مجموع _MAX_ مُدخل)",
            sInfoPostFix: "",
            sSearch: "ابحث:",
            sUrl: "",
            oPaginate: {
              sFirst: "الأول",
              sPrevious: "السابق",
              sNext: "التالي",
              sLast: "الأخير"
            },
            oAria: {
              sSortAscending: ": تفعيل لترتيب العمود تصاعدياً",
              sSortDescending: ": تفعيل لترتيب العمود تنازلياً"
            }
          }
        });

        // toggle search dialog
        $("#btnShowSearchDialog").click(e => {
          $("#searchDialog").toggle(300);
        });

        // checkbox change handler
        $("#chkVisitStatus").change(e => {
          if (e.target.checked) {
            $("#chkVisitStatusLabel").text("منتهية");
          } else {
            $("#chkVisitStatusLabel").text("غير منتهية");
          }
        });

        // print table to PDF
        $("#btnPrintReport").click(e => {
          // parse the HTML table element having an id=exportTable
          var dataSource = shield.DataSource.create({
            data: "#table",
            schema: {
              type: "table",
              fields: {
                SecurityNumber: { type: Number },
                IDNumber: { type: Number },
                VisitorName: { type: String },
                DateFrom: { type: String },
                DateTo: { type: String },
                Department: { type: String },
                VisitStatus: { type: String }
              }
            }
          });

          // when parsing is done, export the data to PDF
          dataSource.read().then((data) => {
            var pdf = new shield.exp.PDFDocument({
              author: "Ghanim Al Marzouqi",
              created: new Date()
            });

            pdf.addPage("a4", "portrait");

            pdf.table(
              50,
              50,
              data,
              [
                { field: "SecurityNumber", title: "رقم بطاقة الأمن", width: 50 },
                { field: "IDNumber", title: "رقم البطاقة الشخصية", width: 150 },
                { field: "VisitorName", title: "اسم الزائر", width: 200 },
                { field: "DateFrom", title: "تاريخ الزيارة من", width: 150 },
                { field: "DateTo", title: "تاريخ الزيارة إلى", width: 150 },
                { field: "Department", title: "الإدارة", width: 150 },
                { field: "VisitStatus", title: "حالة الزيارة", width: 150 }
              ],
              {
                margins: {
                  top: 50,
                  left: 50
                }
              }
            );

            // Current Date
            const date = new Date();
            let day = date.getDate();
            let month = date.getMonth();
            let year = date.getFullYear();

            pdf.saveAs({
              fileName: `تقرير الزيارات - ${day}/${month}/${year}`
            });
          });
        });

        // modal edit button handler
        $("#btnEnableVisitDetailsEdit").click(e => {
          // enable TextFields
          $("#tbSecurityNumberDetail").prop("disabled", false);
          $("#tbIDNumberDetail").prop("disabled", false);
          $("#tbVisitorNameDetail").prop("disabled", false);
          $("#tbCaseNumberDetail").prop("disabled", false);
          $("#ddlDepartmentDetail").prop("disabled", false);
          $("#ddlEmployeeDetail").prop("disabled", false);
          $("#tbVisitReasonDetail").prop("disabled", false);

          // show update button
          $("#btnUpdateVisitDetails").show();
        });

        // on hide modal handler
        $("#VisitDetailsModal").on("hide.bs.modal", e => {
          // enable TextFields
          $("#tbSecurityNumberDetail").prop("disabled", true);
          $("#tbIDNumberDetail").prop("disabled", true);
          $("#tbVisitorNameDetail").prop("disabled", true);
          $("#tbCaseNumberDetail").prop("disabled", true);
          $("#ddlDepartmentDetail").prop("disabled", true);
          $("#ddlEmployeeDetail").prop("disabled", true);
          $("#tbVisitReasonDetail").prop("disabled", true);

          // show update button
          $("#btnUpdateVisitDetails").hide();
        });
      });
    </script>
  </body>
</html>
